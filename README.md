# Zadanie_OOP — Матрица + Iterator

## Задание 15

1.Обработка событий клавиатуры и мыши.  
2.Спроектировать класс «Матрица» с операциями сравнения матриц, сложения матриц, умножения матрицы на число.  
3.Разработать программу для демонстрации работы с матрицей целых чисел. Исходные данные получить с использованием генератора случайных чисел. Результаты вывести в текстовый файл.  
4.Поведенческие паттерны проектирования. Итератор (Iterator).  

## 1. Обработка событий клавиатуры и мыши

Взаимодействие пользователя с программой осуществляется через клавиатуру.
Ввод данных обрабатывается с использованием стандартного потока `std::cin`.

Обработка событий мыши не реализована, так как программа является
консольным приложением и не использует графический интерфейс.

## Теоретические сведения о матрицах

### Понятие матрицы
Матрица — это прямоугольная таблица элементов, расположенных
в виде строк и столбцов.
В данной работе рассматриваются матрицы целых чисел.

Матрица размера `m × n` содержит `m` строк и `n` столбцов.
Каждый элемент матрицы однозначно определяется двумя индексами:
номером строки и номером столбца.

Обозначение элемента матрицы:
    A[i][j]
где `i` — номер строки, `j` — номер столбца.

---

### Представление матрицы в памяти
В языках программирования матрица может храниться:
- как двумерный массив;
- как одномерный массив с вычислением индексов.

В данной работе матрица хранится в одномерном массиве.
Преобразование двумерных индексов в одномерный выполняется по формуле:

index = row * columns + column

где `i` — номер строки, `j` — номер столбца.

---

## Описание классов

### Iterator

**Назначение:** итератор для последовательного обхода элементов контейнера  
(поведенческий паттерн проектирования Iterator).

**Поля:**
- `int* ptr_` — указатель на текущий элемент.

**Методы:**
- `operator*()` — доступ к текущему элементу;
- `operator++()` — переход к следующему элементу;
- `operator!=()` — проверка окончания обхода.

```cpp
class Iterator {
    int* ptr_;
public:
    Iterator(int* p);
    int& operator*();
    Iterator& operator++();
    bool operator!=(const Iterator& other) const;
};
```

### IntArray

**Назначение:** контейнер динамического массива, реализованный вручную  
(без использования стандартных контейнеров STL).

**Поля:**
- `int* data_` — динамический массив;
- `int size_` — количество элементов.

**Методы:**
- `IntArray()` — создаёт пустой контейнер;
- `IntArray(int n)` — выделяет память под `n` элементов;
- `IntArray(const IntArray&)`, `operator=` — корректное копирование (глубокая копия);
- `~IntArray()` — освобождение памяти;
- `operator[]` — доступ к элементу по индексу;
- `begin()` / `end()` — получение итераторов на начало и конец контейнера.

```cpp
class IntArray {
    int* data_;
    int size_;

public:
    IntArray();
    explicit IntArray(int n);
    IntArray(const IntArray& other);
    IntArray& operator=(const IntArray& other);
    ~IntArray();

    int& operator[](int i);

    Iterator begin();
    Iterator end();
};
```
### Matrix

**Назначение:** матрица целых чисел с операциями сравнения, сложения  
и умножения на число.

**Поля:**
- `int rows_` — число строк;
- `int cols_` — число столбцов;
- `IntArray data_` — хранение элементов в одномерном виде.

**Индексация (2D → 1D):**
- элемент `(row, column)` хранится по индексу:


**Методы и операции:**
- `Matrix(r, c)` — создаёт матрицу размера `r × c`;
- `at(r, c)` — доступ к элементу;
- `begin()` / `end()` — итераторы для обхода всех элементов;
- `operator==` — сравнение матриц поэлементно (при одинаковом размере);
- `operator+` — сложение матриц поэлементно (при одинаковом размере);
- `operator*` — умножение каждого элемента на число `k`.

```cpp
class Matrix {
    int rows_;
    int cols_;
    IntArray data_;

    int index(int r, int c) const;

public:
    Matrix(int r, int c);

    int rows() const;
    int cols() const;

    int& at(int r, int c);

    Iterator begin();
    Iterator end();

    bool operator==(Matrix& other);
    Matrix operator+(Matrix& other);
    Matrix operator*(int k);
};
```

## 4.Реализация паттерна Iterator
Паттерн Iterator нужен для последовательного обхода элементов контейнера без раскрытия его внутреннего устройства.

В проекте:
- элементы хранятся в контейнере `IntArray` (динамический массив на `new[]/delete[]`);
- класс `Iterator` инкапсулирует указатель на текущий элемент массива и предоставляет операции:
  - `operator*()` — доступ к текущему элементу
  - `operator++()` — переход к следующему элементу
  - `operator!=()` — проверка окончания обхода
- контейнер `IntArray` предоставляет методы `begin()` и `end()`, возвращающие итераторы на начало и конец массива;
- класс `Matrix` использует `IntArray` как хранилище и отдаёт итераторы наружу через `begin()/end()`;
- операции над матрицами (сравнение, сложение, умножение на число) реализованы через обход элементов итераторами.

## Генерация случайных данных и вывод результатов в файл

Для демонстрации работы программы элементы матриц
заполняются случайными целыми числами.
Генерация данных осуществляется с использованием стандартных средств языка C++
для работы со случайными числами.

Заполнение матрицы выполняется автоматически при запуске программы
без участия пользователя.

Результаты работы программы выводятся в текстовый файл `report.txt`.
В файл последовательно записываются:
- исходные матрицы;
- результат сложения матриц;
- результат умножения матрицы на число;
- результат сравнения матриц.

Вывод в файл осуществляется в табличном виде,
где каждая строка матрицы выводится в отдельной строке файла.


## Структура проекта

```
C:.
│   .gitignore
│   app.exe
│   main.cpp
│   README.md
│   report.txt
│
├───include
│       FileOutput.h
│       IntArray.h
│       Iterator.h
│       Matrix.h
│       RandomFill.h
│
└───src
        FileOutput.cpp
        IntArray.cpp
        Iterator.cpp
        Matrix.cpp
        RandomFill.cpp
```
